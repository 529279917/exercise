#. 老师，问个问题，现在用vxlan，而不用vlan的原因，除了vlan有4096的限制，还有什么原因啊？

你好，这个问题简答来说。除了vlan id数量的限制，还有两个原因:一个就是降低交换机的mac地址表的大小。
如果用vlan的话，交换机需要存所有的“mac-vlan-出接口”的关系，硬件交换机的内存都是很宝贵的。如果用
vxlan的话，一个计算节点的所有流量都封装在vtep的mac地址里面，交换机只需要存计算节点的
“mac-vlan-出接口”，这样节省了硬件交换机的内存。

举个例子，如果有100个服务器，每个服务器有20个虚机，如果用vlan，交换机要存2000个条目。但是用
vxlan，只需要存100个条目。

另一个原因是提供L3之上的L2网络，这样，网虚拟机发生迁移的时候，更加方便。例如，在实际中，有两个机架，
一个是vlan100，另一个是vlan200，虚机如果从一个机架迁移到另一个机架，可能要涉及到ip地址，网关的变化。
但是用vxlan的话，可以在这两个机架的网络上提供一个vxlan网络，例如vxlan1000，这样虚机迁移的时候，
不需要做任何改变。

但是也不用盲目迷行vxlan，在国内的实际案例里面，规模不大的私有云，仍然是使用vlan居多。
